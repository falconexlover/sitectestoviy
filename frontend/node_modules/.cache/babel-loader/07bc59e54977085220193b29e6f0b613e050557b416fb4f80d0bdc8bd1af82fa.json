{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import styled from'styled-components';import{useAuth}from'../context/AuthContext';import{roomService}from'../services/api';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import DatePicker from'react-datepicker';import'react-datepicker/dist/react-datepicker.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;const BackLink=styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #003366;\n  text-decoration: none;\n  margin-bottom: 1rem;\n  font-weight: bold;\n  \n  &:hover {\n    text-decoration: underline;\n  }\n`;const RoomHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;const RoomInfo=styled.div`\n  flex: 1;\n`;const RoomTitle=styled.h1`\n  font-size: 2rem;\n  margin: 0 0 0.5rem;\n  color: #003366;\n`;const RoomType=styled.span`\n  background-color: ${_ref=>{let{type}=_ref;return type==='standard'?'#4caf50':type==='deluxe'?'#2196f3':type==='suite'?'#9c27b0':type==='family'?'#ff9800':'#3f51b5';}};\n  color: white;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  text-transform: capitalize;\n  margin-right: 0.5rem;\n`;const RoomNumber=styled.span`\n  color: #666;\n  font-size: 1rem;\n`;const RoomPrice=styled.div`\n  font-size: 1.75rem;\n  font-weight: bold;\n  color: #003366;\n  display: flex;\n  flex-direction: column;\n  \n  span {\n    font-size: 0.875rem;\n    color: #666;\n    font-weight: normal;\n  }\n`;const ImageGallery=styled.div`\n  margin-bottom: 2rem;\n`;const MainImage=styled.img`\n  width: 100%;\n  height: 400px;\n  object-fit: cover;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n`;const ThumbnailsContainer=styled.div`\n  display: flex;\n  gap: 0.5rem;\n  overflow-x: auto;\n  padding-bottom: 0.5rem;\n  \n  &::-webkit-scrollbar {\n    height: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 10px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #888;\n    border-radius: 10px;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n`;const Thumbnail=styled.img`\n  width: 80px;\n  height: 60px;\n  object-fit: cover;\n  border-radius: 4px;\n  cursor: pointer;\n  opacity: ${_ref2=>{let{active}=_ref2;return active?1:0.6;}};\n  border: ${_ref3=>{let{active}=_ref3;return active?'2px solid #003366':'none';}};\n  transition: opacity 0.3s, transform 0.3s;\n  \n  &:hover {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n`;const RoomDetailsLayout=styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  gap: 2rem;\n  \n  @media (max-width: 992px) {\n    grid-template-columns: 1fr;\n  }\n`;const RoomDetailsContent=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;const Section=styled.div`\n  margin-bottom: 1.5rem;\n`;const SectionTitle=styled.h2`\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  color: #003366;\n  position: relative;\n  \n  &:after {\n    content: '';\n    position: absolute;\n    bottom: -5px;\n    left: 0;\n    width: 50px;\n    height: 3px;\n    background-color: #003366;\n  }\n`;const AmenitiesList=styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 0.5rem;\n`;const AmenityItem=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n`;const BookingCard=styled.div`\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 1.5rem;\n  position: sticky;\n  top: 2rem;\n`;const BookingCardTitle=styled.h3`\n  font-size: 1.25rem;\n  margin-bottom: 1rem;\n  color: #003366;\n  text-align: center;\n`;const StyledForm=styled(Form)`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;const FormGroup=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;const Label=styled.label`\n  font-weight: bold;\n  font-size: 0.9rem;\n`;const StyledDatePicker=styled(DatePicker)`\n  padding: 0.75rem;\n  width: 100%;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  \n  &:focus {\n    outline: none;\n    border-color: #003366;\n  }\n`;const Error=styled.div`\n  color: #e53935;\n  font-size: 0.875rem;\n`;const BookingSummary=styled.div`\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid #eee;\n`;const SummaryRow=styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5rem;\n  \n  &:last-child {\n    margin-top: 0.5rem;\n    padding-top: 0.5rem;\n    border-top: 1px solid #eee;\n    font-weight: bold;\n    font-size: 1.1rem;\n  }\n`;const Button=styled.button`\n  background-color: #003366;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  width: 100%;\n  margin-top: 1rem;\n  \n  &:hover {\n    background-color: #002244;\n  }\n  \n  &:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n  }\n`;const LoginPrompt=styled.div`\n  text-align: center;\n  padding: 1rem;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n  margin-top: 1rem;\n  \n  a {\n    color: #003366;\n    text-decoration: none;\n    font-weight: bold;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;const BookingSchema=Yup.object().shape({checkIn:Yup.date().required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ').min(new Date(),'–î–∞—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º'),checkOut:Yup.date().required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ').min(Yup.ref('checkIn'),'–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∑–∂–µ –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞'),guests:Yup.number().required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ').min(1,'–ú–∏–Ω–∏–º—É–º 1 –≥–æ—Å—Ç—å')});// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏\nconst getDaysDifference=(start,end)=>{const diffTime=Math.abs(end-start);return Math.ceil(diffTime/(1000*60*60*24));};const formatPrice=price=>{return price.toLocaleString()+' ‚ÇΩ';};// –†—É—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –Ω–æ–º–µ—Ä–æ–≤\nconst roomTypeNames={standard:'–°—Ç–∞–Ω–¥–∞—Ä—Ç',deluxe:'–î–µ–ª—é–∫—Å',suite:'–õ—é–∫—Å',family:'–°–µ–º–µ–π–Ω—ã–π',executive:'–ü—Ä–µ–º–∏—É–º'};const RoomDetailPage=()=>{const{id}=useParams();const{user,isAuthenticated}=useAuth();const[room,setRoom]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedImage,setSelectedImage]=useState(0);// Placeholder –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏\nconst placeholderImages=['https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80','https://images.unsplash.com/photo-1564501049412-61c2a3083791?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1632&q=80','https://images.unsplash.com/photo-1606402179428-a57976d71fa4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80','https://images.unsplash.com/photo-1631049307264-da0ec9d70304?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80'];useEffect(()=>{console.log('RoomDetailPage: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–Ω–∞—Ç—ã —Å ID:',id);const fetchRoom=async()=>{try{console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API –¥–ª—è –∫–æ–º–Ω–∞—Ç—ã —Å ID:',id);const response=await roomService.getRoomById(id);console.log('–ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç API:',response.data);setRoom(response.data);setLoading(false);}catch(err){console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–º–µ—Ä–∞:',err);setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–æ–º–µ—Ä–µ');setLoading(false);}};fetchRoom();},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u043D\\u043E\\u043C\\u0435\\u0440\\u0435...\"});}if(error||!room){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/rooms\",children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443 \\u043D\\u043E\\u043C\\u0435\\u0440\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"div\",{children:error||'–ù–æ–º–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω'})]});}// –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –∏–ª–∏ placeholders\nconst images=room.images&&room.images.length>0?room.images:placeholderImages;return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(BackLink,{to:\"/rooms\",children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443 \\u043D\\u043E\\u043C\\u0435\\u0440\\u043E\\u0432\"}),/*#__PURE__*/_jsxs(RoomHeader,{children:[/*#__PURE__*/_jsxs(RoomInfo,{children:[/*#__PURE__*/_jsx(RoomTitle,{children:room.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(RoomType,{type:room.roomType,children:roomTypeNames[room.roomType]||room.roomType}),/*#__PURE__*/_jsxs(RoomNumber,{children:[\"\\u041D\\u043E\\u043C\\u0435\\u0440 \",room.roomNumber]})]})]}),/*#__PURE__*/_jsxs(RoomPrice,{children:[formatPrice(room.price),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0437\\u0430 \\u043D\\u043E\\u0447\\u044C\"})]})]}),/*#__PURE__*/_jsxs(ImageGallery,{children:[/*#__PURE__*/_jsx(MainImage,{src:images[selectedImage],alt:room.name}),/*#__PURE__*/_jsx(ThumbnailsContainer,{children:images.map((image,index)=>/*#__PURE__*/_jsx(Thumbnail,{src:image,alt:`${room.name} - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${index+1}`,active:index===selectedImage,onClick:()=>setSelectedImage(index)},index))})]}),/*#__PURE__*/_jsxs(RoomDetailsLayout,{children:[/*#__PURE__*/_jsxs(RoomDetailsContent,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"p\",{children:room.description})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u043D\\u043E\\u043C\\u0435\\u0440\\u0430\"}),/*#__PURE__*/_jsxs(AmenitiesList,{children:[/*#__PURE__*/_jsxs(AmenityItem,{children:[\"\\uD83D\\uDC64 \\u0412\\u043C\\u0435\\u0441\\u0442\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C: \",room.capacity,\" \\u0433\\u043E\\u0441\\u0442\\u0435\\u0439\"]}),/*#__PURE__*/_jsxs(AmenityItem,{children:[\"\\uD83C\\uDFE2 \\u042D\\u0442\\u0430\\u0436: \",room.floor||1]}),/*#__PURE__*/_jsxs(AmenityItem,{children:[\"\\uD83D\\uDCCF \\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C: \",room.area||'25',\" \\u043C\\xB2\"]}),/*#__PURE__*/_jsxs(AmenityItem,{children:[\"\\uD83D\\uDECF\\uFE0F \\u041A\\u0440\\u043E\\u0432\\u0430\\u0442\\u0438: \",room.beds||'1 –¥–≤—É—Å–ø–∞–ª—å–Ω–∞—è']})]})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\u0423\\u0434\\u043E\\u0431\\u0441\\u0442\\u0432\\u0430\"}),/*#__PURE__*/_jsx(AmenitiesList,{children:room.amenities&&room.amenities.map((amenity,index)=>/*#__PURE__*/_jsxs(AmenityItem,{children:[\"\\u2713 \",amenity]},index))})]})]}),/*#__PURE__*/_jsxs(BookingCard,{children:[/*#__PURE__*/_jsx(BookingCardTitle,{children:\"\\u0417\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043D\\u043E\\u043C\\u0435\\u0440\"}),isAuthenticated?/*#__PURE__*/_jsx(Formik,{initialValues:{checkIn:null,checkOut:null,guests:room.capacity<2?1:2},validationSchema:BookingSchema,onSubmit:(values,_ref4)=>{let{setSubmitting}=_ref4;console.log('Submitting booking:',values);// –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è\nsetSubmitting(false);},children:_ref5=>{let{values,setFieldValue,isSubmitting}=_ref5;// –†–∞—Å—á–µ—Ç –¥–Ω–µ–π –∏ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏\nconst days=values.checkIn&&values.checkOut?getDaysDifference(values.checkIn,values.checkOut):0;const totalPrice=days*room.price;return/*#__PURE__*/_jsxs(StyledForm,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"checkIn\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0437\\u0430\\u0435\\u0437\\u0434\\u0430\"}),/*#__PURE__*/_jsx(StyledDatePicker,{id:\"checkIn\",selected:values.checkIn,onChange:date=>setFieldValue('checkIn',date),selectsStart:true,startDate:values.checkIn,endDate:values.checkOut,dateFormat:\"dd.MM.yyyy\",placeholderText:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443\",minDate:new Date()}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"checkIn\",component:Error})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"checkOut\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u044B\\u0435\\u0437\\u0434\\u0430\"}),/*#__PURE__*/_jsx(StyledDatePicker,{id:\"checkOut\",selected:values.checkOut,onChange:date=>setFieldValue('checkOut',date),selectsEnd:true,startDate:values.checkIn,endDate:values.checkOut,minDate:values.checkIn||new Date(),dateFormat:\"dd.MM.yyyy\",placeholderText:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"checkOut\",component:Error})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"guests\",children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0433\\u043E\\u0441\\u0442\\u0435\\u0439\"}),/*#__PURE__*/_jsx(Field,{as:\"select\",id:\"guests\",name:\"guests\",style:{padding:'0.75rem',border:'1px solid #ddd',borderRadius:'4px'},children:[...Array(room.capacity)].map((_,i)=>/*#__PURE__*/_jsxs(\"option\",{value:i+1,children:[i+1,\" \",i===0?'–≥–æ—Å—Ç—å':'–≥–æ—Å—Ç–µ–π']},i+1))}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"guests\",component:Error})]}),days>0&&/*#__PURE__*/_jsxs(BookingSummary,{children:[/*#__PURE__*/_jsxs(SummaryRow,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[formatPrice(room.price),\" x \",days,\" \\u043D\\u043E\\u0447\\u0435\\u0439\"]}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(totalPrice)})]}),/*#__PURE__*/_jsxs(SummaryRow,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0442\\u043E\\u0433\\u043E:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(totalPrice)})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:isSubmitting||days===0,children:isSubmitting?'–û–±—Ä–∞–±–æ—Ç–∫–∞...':'–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å'})]});}}):/*#__PURE__*/_jsxs(LoginPrompt,{children:[\"\\u0427\\u0442\\u043E\\u0431\\u044B \\u0437\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043D\\u043E\\u043C\\u0435\\u0440, \\u043F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\u0432\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435\"}),\" \\u0438\\u043B\\u0438 \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"\\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435\\u0441\\u044C\"}),\".\"]})]})]})]});};export default RoomDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","styled","useAuth","roomService","Formik","Form","Field","ErrorMessage","Yup","DatePicker","jsx","_jsx","jsxs","_jsxs","Container","div","BackLink","RoomHeader","RoomInfo","RoomTitle","h1","RoomType","span","_ref","type","RoomNumber","RoomPrice","ImageGallery","MainImage","img","ThumbnailsContainer","Thumbnail","_ref2","active","_ref3","RoomDetailsLayout","RoomDetailsContent","Section","SectionTitle","h2","AmenitiesList","AmenityItem","BookingCard","BookingCardTitle","h3","StyledForm","FormGroup","Label","label","StyledDatePicker","Error","BookingSummary","SummaryRow","Button","button","LoginPrompt","BookingSchema","object","shape","checkIn","date","required","min","Date","checkOut","ref","guests","number","getDaysDifference","start","end","diffTime","Math","abs","ceil","formatPrice","price","toLocaleString","roomTypeNames","standard","deluxe","suite","family","executive","RoomDetailPage","id","user","isAuthenticated","room","setRoom","loading","setLoading","error","setError","selectedImage","setSelectedImage","placeholderImages","console","log","fetchRoom","response","getRoomById","data","err","children","to","images","length","name","roomType","roomNumber","src","alt","map","image","index","onClick","description","capacity","floor","area","beds","amenities","amenity","initialValues","validationSchema","onSubmit","values","_ref4","setSubmitting","_ref5","setFieldValue","isSubmitting","days","totalPrice","htmlFor","selected","onChange","selectsStart","startDate","endDate","dateFormat","placeholderText","minDate","component","selectsEnd","as","style","padding","border","borderRadius","Array","_","i","value","disabled"],"sources":["/home/falconexlover/desk/lesnoy dvorik/frontend/src/pages/RoomDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useAuth } from '../context/AuthContext';\nimport { roomService } from '../services/api';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst BackLink = styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #003366;\n  text-decoration: none;\n  margin-bottom: 1rem;\n  font-weight: bold;\n  \n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst RoomHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst RoomInfo = styled.div`\n  flex: 1;\n`;\n\nconst RoomTitle = styled.h1`\n  font-size: 2rem;\n  margin: 0 0 0.5rem;\n  color: #003366;\n`;\n\nconst RoomType = styled.span`\n  background-color: ${({ type }) => (\n    type === 'standard' ? '#4caf50' :\n    type === 'deluxe' ? '#2196f3' :\n    type === 'suite' ? '#9c27b0' :\n    type === 'family' ? '#ff9800' :\n    '#3f51b5'\n  )};\n  color: white;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  text-transform: capitalize;\n  margin-right: 0.5rem;\n`;\n\nconst RoomNumber = styled.span`\n  color: #666;\n  font-size: 1rem;\n`;\n\nconst RoomPrice = styled.div`\n  font-size: 1.75rem;\n  font-weight: bold;\n  color: #003366;\n  display: flex;\n  flex-direction: column;\n  \n  span {\n    font-size: 0.875rem;\n    color: #666;\n    font-weight: normal;\n  }\n`;\n\nconst ImageGallery = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst MainImage = styled.img`\n  width: 100%;\n  height: 400px;\n  object-fit: cover;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n`;\n\nconst ThumbnailsContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  overflow-x: auto;\n  padding-bottom: 0.5rem;\n  \n  &::-webkit-scrollbar {\n    height: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 10px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #888;\n    border-radius: 10px;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n`;\n\nconst Thumbnail = styled.img`\n  width: 80px;\n  height: 60px;\n  object-fit: cover;\n  border-radius: 4px;\n  cursor: pointer;\n  opacity: ${({ active }) => (active ? 1 : 0.6)};\n  border: ${({ active }) => (active ? '2px solid #003366' : 'none')};\n  transition: opacity 0.3s, transform 0.3s;\n  \n  &:hover {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n`;\n\nconst RoomDetailsLayout = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  gap: 2rem;\n  \n  @media (max-width: 992px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst RoomDetailsContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst Section = styled.div`\n  margin-bottom: 1.5rem;\n`;\n\nconst SectionTitle = styled.h2`\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  color: #003366;\n  position: relative;\n  \n  &:after {\n    content: '';\n    position: absolute;\n    bottom: -5px;\n    left: 0;\n    width: 50px;\n    height: 3px;\n    background-color: #003366;\n  }\n`;\n\nconst AmenitiesList = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 0.5rem;\n`;\n\nconst AmenityItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n`;\n\nconst BookingCard = styled.div`\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 1.5rem;\n  position: sticky;\n  top: 2rem;\n`;\n\nconst BookingCardTitle = styled.h3`\n  font-size: 1.25rem;\n  margin-bottom: 1rem;\n  color: #003366;\n  text-align: center;\n`;\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst Label = styled.label`\n  font-weight: bold;\n  font-size: 0.9rem;\n`;\n\nconst StyledDatePicker = styled(DatePicker)`\n  padding: 0.75rem;\n  width: 100%;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  \n  &:focus {\n    outline: none;\n    border-color: #003366;\n  }\n`;\n\nconst Error = styled.div`\n  color: #e53935;\n  font-size: 0.875rem;\n`;\n\nconst BookingSummary = styled.div`\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid #eee;\n`;\n\nconst SummaryRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5rem;\n  \n  &:last-child {\n    margin-top: 0.5rem;\n    padding-top: 0.5rem;\n    border-top: 1px solid #eee;\n    font-weight: bold;\n    font-size: 1.1rem;\n  }\n`;\n\nconst Button = styled.button`\n  background-color: #003366;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  width: 100%;\n  margin-top: 1rem;\n  \n  &:hover {\n    background-color: #002244;\n  }\n  \n  &:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n  }\n`;\n\nconst LoginPrompt = styled.div`\n  text-align: center;\n  padding: 1rem;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n  margin-top: 1rem;\n  \n  a {\n    color: #003366;\n    text-decoration: none;\n    font-weight: bold;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst BookingSchema = Yup.object().shape({\n  checkIn: Yup.date()\n    .required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ')\n    .min(new Date(), '–î–∞—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º'),\n  checkOut: Yup.date()\n    .required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ')\n    .min(\n      Yup.ref('checkIn'),\n      '–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∑–∂–µ –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞'\n    ),\n  guests: Yup.number()\n    .required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ')\n    .min(1, '–ú–∏–Ω–∏–º—É–º 1 –≥–æ—Å—Ç—å')\n});\n\n// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏\nconst getDaysDifference = (start, end) => {\n  const diffTime = Math.abs(end - start);\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n};\n\nconst formatPrice = (price) => {\n  return price.toLocaleString() + ' ‚ÇΩ';\n};\n\n// –†—É—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –Ω–æ–º–µ—Ä–æ–≤\nconst roomTypeNames = {\n  standard: '–°—Ç–∞–Ω–¥–∞—Ä—Ç',\n  deluxe: '–î–µ–ª—é–∫—Å',\n  suite: '–õ—é–∫—Å',\n  family: '–°–µ–º–µ–π–Ω—ã–π',\n  executive: '–ü—Ä–µ–º–∏—É–º'\n};\n\nconst RoomDetailPage = () => {\n  const { id } = useParams();\n  const { user, isAuthenticated } = useAuth();\n  const [room, setRoom] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedImage, setSelectedImage] = useState(0);\n  \n  // Placeholder –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏\n  const placeholderImages = [\n    'https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80',\n    'https://images.unsplash.com/photo-1564501049412-61c2a3083791?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1632&q=80',\n    'https://images.unsplash.com/photo-1606402179428-a57976d71fa4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80',\n    'https://images.unsplash.com/photo-1631049307264-da0ec9d70304?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80',\n  ];\n  \n  useEffect(() => {\n    console.log('RoomDetailPage: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–Ω–∞—Ç—ã —Å ID:', id);\n    \n    const fetchRoom = async () => {\n      try {\n        console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API –¥–ª—è –∫–æ–º–Ω–∞—Ç—ã —Å ID:', id);\n        const response = await roomService.getRoomById(id);\n        console.log('–ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç API:', response.data);\n        setRoom(response.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–º–µ—Ä–∞:', err);\n        setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–æ–º–µ—Ä–µ');\n        setLoading(false);\n      }\n    };\n    \n    fetchRoom();\n  }, [id]);\n  \n  if (loading) {\n    return <div>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –Ω–æ–º–µ—Ä–µ...</div>;\n  }\n  \n  if (error || !room) {\n    return (\n      <div>\n        <Link to=\"/rooms\">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –Ω–æ–º–µ—Ä–æ–≤</Link>\n        <div>{error || '–ù–æ–º–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω'}</div>\n      </div>\n    );\n  }\n  \n  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –∏–ª–∏ placeholders\n  const images = room.images && room.images.length > 0 \n    ? room.images \n    : placeholderImages;\n  \n  return (\n    <Container>\n      <BackLink to=\"/rooms\">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –Ω–æ–º–µ—Ä–æ–≤</BackLink>\n      \n      <RoomHeader>\n        <RoomInfo>\n          <RoomTitle>{room.name}</RoomTitle>\n          <div>\n            <RoomType type={room.roomType}>{roomTypeNames[room.roomType] || room.roomType}</RoomType>\n            <RoomNumber>–ù–æ–º–µ—Ä {room.roomNumber}</RoomNumber>\n          </div>\n        </RoomInfo>\n        \n        <RoomPrice>\n          {formatPrice(room.price)}\n          <span>–∑–∞ –Ω–æ—á—å</span>\n        </RoomPrice>\n      </RoomHeader>\n      \n      <ImageGallery>\n        <MainImage src={images[selectedImage]} alt={room.name} />\n        <ThumbnailsContainer>\n          {images.map((image, index) => (\n            <Thumbnail\n              key={index}\n              src={image}\n              alt={`${room.name} - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${index + 1}`}\n              active={index === selectedImage}\n              onClick={() => setSelectedImage(index)}\n            />\n          ))}\n        </ThumbnailsContainer>\n      </ImageGallery>\n      \n      <RoomDetailsLayout>\n        <RoomDetailsContent>\n          <Section>\n            <SectionTitle>–û–ø–∏—Å–∞–Ω–∏–µ</SectionTitle>\n            <p>{room.description}</p>\n          </Section>\n          \n          <Section>\n            <SectionTitle>–î–µ—Ç–∞–ª–∏ –Ω–æ–º–µ—Ä–∞</SectionTitle>\n            <AmenitiesList>\n              <AmenityItem>üë§ –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: {room.capacity} –≥–æ—Å—Ç–µ–π</AmenityItem>\n              <AmenityItem>üè¢ –≠—Ç–∞–∂: {room.floor || 1}</AmenityItem>\n              <AmenityItem>üìè –ü–ª–æ—â–∞–¥—å: {room.area || '25'} –º¬≤</AmenityItem>\n              <AmenityItem>üõèÔ∏è –ö—Ä–æ–≤–∞—Ç–∏: {room.beds || '1 –¥–≤—É—Å–ø–∞–ª—å–Ω–∞—è'}</AmenityItem>\n            </AmenitiesList>\n          </Section>\n          \n          <Section>\n            <SectionTitle>–£–¥–æ–±—Å—Ç–≤–∞</SectionTitle>\n            <AmenitiesList>\n              {room.amenities && room.amenities.map((amenity, index) => (\n                <AmenityItem key={index}>‚úì {amenity}</AmenityItem>\n              ))}\n            </AmenitiesList>\n          </Section>\n        </RoomDetailsContent>\n        \n        <BookingCard>\n          <BookingCardTitle>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä</BookingCardTitle>\n          \n          {isAuthenticated ? (\n            <Formik\n              initialValues={{\n                checkIn: null,\n                checkOut: null,\n                guests: room.capacity < 2 ? 1 : 2\n              }}\n              validationSchema={BookingSchema}\n              onSubmit={(values, { setSubmitting }) => {\n                console.log('Submitting booking:', values);\n                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è\n                setSubmitting(false);\n              }}\n            >\n              {({ values, setFieldValue, isSubmitting }) => {\n                // –†–∞—Å—á–µ—Ç –¥–Ω–µ–π –∏ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏\n                const days = values.checkIn && values.checkOut \n                  ? getDaysDifference(values.checkIn, values.checkOut) \n                  : 0;\n                const totalPrice = days * room.price;\n                \n                return (\n                  <StyledForm>\n                    <FormGroup>\n                      <Label htmlFor=\"checkIn\">–î–∞—Ç–∞ –∑–∞–µ–∑–¥–∞</Label>\n                      <StyledDatePicker\n                        id=\"checkIn\"\n                        selected={values.checkIn}\n                        onChange={date => setFieldValue('checkIn', date)}\n                        selectsStart\n                        startDate={values.checkIn}\n                        endDate={values.checkOut}\n                        dateFormat=\"dd.MM.yyyy\"\n                        placeholderText=\"–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É\"\n                        minDate={new Date()}\n                      />\n                      <ErrorMessage name=\"checkIn\" component={Error} />\n                    </FormGroup>\n                    \n                    <FormGroup>\n                      <Label htmlFor=\"checkOut\">–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞</Label>\n                      <StyledDatePicker\n                        id=\"checkOut\"\n                        selected={values.checkOut}\n                        onChange={date => setFieldValue('checkOut', date)}\n                        selectsEnd\n                        startDate={values.checkIn}\n                        endDate={values.checkOut}\n                        minDate={values.checkIn || new Date()}\n                        dateFormat=\"dd.MM.yyyy\"\n                        placeholderText=\"–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É\"\n                      />\n                      <ErrorMessage name=\"checkOut\" component={Error} />\n                    </FormGroup>\n                    \n                    <FormGroup>\n                      <Label htmlFor=\"guests\">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π</Label>\n                      <Field\n                        as=\"select\"\n                        id=\"guests\"\n                        name=\"guests\"\n                        style={{\n                          padding: '0.75rem',\n                          border: '1px solid #ddd',\n                          borderRadius: '4px',\n                        }}\n                      >\n                        {[...Array(room.capacity)].map((_, i) => (\n                          <option key={i + 1} value={i + 1}>\n                            {i + 1} {i === 0 ? '–≥–æ—Å—Ç—å' : '–≥–æ—Å—Ç–µ–π'}\n                          </option>\n                        ))}\n                      </Field>\n                      <ErrorMessage name=\"guests\" component={Error} />\n                    </FormGroup>\n                    \n                    {days > 0 && (\n                      <BookingSummary>\n                        <SummaryRow>\n                          <span>{formatPrice(room.price)} x {days} –Ω–æ—á–µ–π</span>\n                          <span>{formatPrice(totalPrice)}</span>\n                        </SummaryRow>\n                        <SummaryRow>\n                          <span>–ò—Ç–æ–≥–æ:</span>\n                          <span>{formatPrice(totalPrice)}</span>\n                        </SummaryRow>\n                      </BookingSummary>\n                    )}\n                    \n                    <Button type=\"submit\" disabled={isSubmitting || days === 0}>\n                      {isSubmitting ? '–û–±—Ä–∞–±–æ—Ç–∫–∞...' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å'}\n                    </Button>\n                  </StyledForm>\n                );\n              }}\n            </Formik>\n          ) : (\n            <LoginPrompt>\n              –ß—Ç–æ–±—ã –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, <Link to=\"/login\">–≤–æ–π–¥–∏—Ç–µ</Link> –∏–ª–∏ <Link to=\"/register\">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</Link>.\n            </LoginPrompt>\n          )}\n        </BookingCard>\n      </RoomDetailsLayout>\n    </Container>\n  );\n};\n\nexport default RoomDetailPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}